#N canvas 26 40 897 464 10;
#X msg 737 281 help;
#X obj 533 347 soundoutput;
#X obj 532 211 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 649 160 g_nbx dur;
#X obj 649 127 g_nbx loopstart;
#X obj 684 371 bng 15 250 50 0 empty empty End_of_loop 17 7 1 10 -262144
-1 -1;
#X obj 669 401 t b b;
#X obj 669 422 timer;
#X floatatom 669 446 5 0 0 0 - - -;
#X text 606 107 loopstart and duration are in msec;
#X obj 649 194 g_nbx chunk-size;
#X msg 552 213 start;
#X msg 552 239 stop;
#N canvas 0 22 457 346 loadsample 0;
#X floatatom 252 177 8 0 0 3 dur_in_smps - -;
#X floatatom 205 144 8 0 0 3 dur_in_ms - -;
#X symbolatom 174 177 10 0 0 3 table_name - -;
#X obj 174 107 unpack s f f f;
#X floatatom 269 145 6 0 0 3 samplerate - -;
#X obj 40 118 list;
#X msg 40 142 table \$1 \, sr \$4;
#X msg 264 43 sr 44100;
#X msg 337 44 info;
#X obj 174 78 u_samplebank \$0-mytable;
#X obj 40 246 outlet;
#X obj 174 13 inlet;
#X msg 174 43 open \, info;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 3 2 0 0;
#X connect 3 3 4 0;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 0 5 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X restore 807 296 pd loadsample;
#X obj 649 223 g_nbx transposition;
#X obj 551 278 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 532 313 s_loopsmooth mytable;
#X obj 669 344 spigot;
#X obj 721 345 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 725 165 min. duration: 10 ms;
#N canvas 25 22 696 470 REFERENCE 0;
#X text 110 159 Outlet 0: output signal;
#X text 110 83 Argument 0: name \, required;
#X text 110 41 Name: s_loopsmooth;
#X text 110 62 Summary: loop table parts with overlapped chunks;
#X text 110 104 Inlet 0: 0/1/bang/start/stop;
#X text 114 375 Also see: s_playolap;
#X text 110 125 Inlet 1: messages: loopstart \, dur \, transposition
<seminotes> \, chunk-size <ms> \, table <sym> \, sr <float>;
#X text 110 178 Outlet 1: bang at end of loop (can be used to stop
looping);
#X text 109 318;
#X text 109 206 Description: s_loopsmooth internally uses s_playolap
to play parts of a table as loops. You can smoothly change the loop
duration and the starting point. Loop duration has a lower border of
10 msec. Transposition in semitones can be issued with the "transposition"
message. Each chunk is enveloped with a half cosine wave and 50% out
of phase from the other. Use "sr" messages to specify the samplerate
of the soundfile you want to use. All parameter changes are "sample-and-held"
\, so you won't get clicks when scratching around in the sample \,
but a side effect is a latency of duration "chunk-size".;
#X coords 0 -1 1 1 450 400 1 100 20;
#X restore 17 39 pd REFERENCE;
#X obj 807 273 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 660 251 sr 22050;
#X msg 729 251 sr 44100;
#X text 793 250 file samplerate;
#X connect 0 0 16 1;
#X connect 2 0 16 0;
#X connect 3 0 10 0;
#X connect 4 0 3 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 8 0;
#X connect 10 0 14 0;
#X connect 11 0 16 0;
#X connect 12 0 16 0;
#X connect 13 0 16 1;
#X connect 14 0 16 1;
#X connect 15 0 16 0;
#X connect 16 0 1 0;
#X connect 16 0 1 1;
#X connect 16 1 17 0;
#X connect 17 0 5 0;
#X connect 17 0 6 0;
#X connect 18 0 17 1;
#X connect 21 0 13 0;
#X connect 22 0 16 1;
#X connect 23 0 16 1;
